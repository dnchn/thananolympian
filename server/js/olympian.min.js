var is_male=true;var curr_filter="age";var VERBS={age:"older",height:"taller",weight:"heavier"};var SPORTS=["swim","gym","track","other","all"];var COLORS={swim:"blue",gym:"red",track:"yellow",other:"green",all:"black"};var MALE_SELECTED_IMG="img/male_selected.png",MALE_UNSELECTED_IMG="img/male_unselected.png",FEMALE_SELECTED_IMG="img/female_selected.png",FEMALE_UNSELECTED_IMG="img/female_unselected.png";$(function(){var b=(is_male?"_male":"_female");var d=data[curr_filter+b+"_min"];var c=data[curr_filter+b+"_max"];var a=d+Math.floor((c-d)/2);$("#slider").slider({value:a,min:d,max:c,step:1,slide:function(e,f){slide(f.value)},create:function(){var f=jQuery(this).find(".ui-slider-handle");var e=jQuery('<span id="bubble"></span>');f.append(e)}});$("#bubble").text($("#slider").slider("value")+"\xa0years");$("span.pie").each(function(){color=this.getAttribute("color");$(this).peity("pie",{colour:color})});$(".dropdown").dropkick({width:160,change:dropdown});slide(a)});var slide=function(a){var c=data[curr_filter+"_counts"];$.each(SPORTS,function(f,k){var g=(is_male?f:f+5);var j=c[g];var h=data[curr_filter][a][g];var e=COLORS[k]+"_ring";$("#"+e).text(h+"/"+j).change()});if(curr_filter==="age"){$("#bubble").text(a+"\xa0years")}else{if(curr_filter==="height"){var d=a%12;var b=(a-d)/12;$("#bubble").text(b+"'"+d+'"')}else{$("#bubble").text(a+"\xa0lbs")}}};var dropdown=function(a){curr_filter=a;if(curr_filter==="weight"){$(".no_data").show()}else{$(".no_data").hide()}$("#verb").text(VERBS[a]);var c=(is_male?"_male":"_female");var e=data[a+c+"_min"];var d=data[a+c+"_max"];var b=e+Math.floor((d-e)/2);$("#slider").slider("option","min",e);$("#slider").slider("option","max",d);$("#slider").slider("value",b);slide(b)};var swap_gender=function(){is_male=!is_male;var a=$("#gender_male");var b=(a.attr("src")===MALE_SELECTED_IMG)?MALE_UNSELECTED_IMG:MALE_SELECTED_IMG;a.attr("src",b);var a=$("#gender_female");var b=(a.attr("src")===FEMALE_SELECTED_IMG)?FEMALE_UNSELECTED_IMG:FEMALE_SELECTED_IMG;a.attr("src",b);$("#slider_section").toggleClass("male").toggleClass("female");dropdown(curr_filter)};