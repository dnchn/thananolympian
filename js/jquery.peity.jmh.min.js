(function(e,b){var d=e.fn.peity=function(g,f){if(b.createElement("canvas").getContext){this.each(function(){e(this).change(function(){var i=e.extend({},f);var h=this;e.each(i,function(k,l){if(e.isFunction(l)){i[k]=l.call(h)}});var j=e(this).html();d.graphers[g].call(this,e.extend({},d.defaults[g],i));e(this).trigger("chart:changed",j)}).trigger("change")})}return this};d.graphers={};d.defaults={};d.add=function(f,g,h){d.graphers[f]=h;d.defaults[f]=g};var a=window.devicePixelRatio||1;function c(i,f){var g=b.createElement("canvas");g.setAttribute("width",i*a);g.setAttribute("height",f*a);if(a!=1){var h="width:"+i+"px;height:"+f+"px";g.setAttribute("style",h)}return g}d.add("pie",{colour:"#1BAFE0",delimeter:"/",diameter:220,stroke:22},function(f){var j=e(this);var o=j.text().split(f.delimeter);var l=parseFloat(o[0]);var k=parseFloat(o[1]);var n=-Math.PI/2;var m=(l/k)*Math.PI*2;var i=c(f.diameter,f.diameter);var h=i.getContext("2d");var g=i.width/2;h.moveTo(g,g);h.beginPath();h.lineWidth=f.stroke;h.strokeStyle="rgb("+f.colour+")";h.arc(g,g,g-(f.stroke/2),0,Math.PI*2,false);h.stroke();h.beginPath();h.moveTo(g,g);h.arc(g,g,g-f.stroke+1,n,m+n,false);h.fillStyle="rgba("+f.colour+",0.80)";h.fill();j.wrapInner(e("<span>").hide()).append(i)})})(jQuery,document);